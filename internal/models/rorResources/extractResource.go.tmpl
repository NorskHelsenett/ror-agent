// THIS FILE IS GENERATED, DO NOT EDIT
// ref: build/generator/main.go
package rorResources

import (
	"fmt"
	apiresourcecontracts "github.com/NorskHelsenett/ror/pkg/apicontracts/apiresourcecontracts"
)

// the function determines which model to match the resource to and call prepareResourcePayloadFromObject to cast the input to the matching model.
func getResourceFromObject(resourceReturn *rorResource, obj map[string]any) error {
{{ range .}}
    if resourceReturn.ApiVersion == "{{.GetApiVersion}}" && resourceReturn.Kind == "{{.Kind}}" {
        payload, err := prepareResourcePayloadFromObject[apiresourcecontracts.Resource{{.Kind}}](obj)
        resourceReturn.Resource = payload
        return err
    }
{{end}}
    return fmt.Errorf("no handler found for %s/%s", resourceReturn.ApiVersion, resourceReturn.Kind)
}
